{
  "schemaVersion": "2.2",
  "description": "RunCommandPatchesInstall-22-1-Windows",
  "parameters": {
    "GGMInstalled": {
      "default": false,
      "type": "Boolean"
    },
    "UAMInstalled": {
      "default": false,
      "type": "Boolean"
    },
    "GAVInstalled": {
      "default": false,
      "type": "Boolean"
    }
  },
  "mainSteps": [
    {
      "name":"PatchInstall",
      "action":"aws:branch",
      "inputs":{
         "Choices":[
            {
               "NextStep":"InstallGGMPatches",
               "Variable":"{{GGMInstalled}}",
               "BooleanEquals":"true"
            },
            {
               "NextStep":"InstallUAMPatches",
               "Variable":"{{UAMInstalled}}",
               "BooleanEquals":"true"
            },
            {
               "NextStep":"InstallGAVPatches",
               "Variable":"{{GAVInstalled}}",
               "BooleanEquals":"true"
            }
         ],
         "Default":"InstallPlatformPatches"
      }
    },
    {
      "name": "InstallGGMPatches",
      "action": "aws:runCommand",
      "inputs": {
        "DocumentName": "InstallGGMPatches-22-1-Windows"
      }
    },
    {
      "name": "InstallUAMPatches",
      "action": "aws:runCommand",
      "inputs": {
        "DocumentName": "InstallUAMPatches-22-1-Windows"
      }
    },
    {
      "name": "InstallGAVPatches",
      "action": "aws:runCommand",
      "inputs": {
        "DocumentName": "InstallGAVPatches-22-1-Windows"
      }
    },
    {
      "name": "InstallPlatformPatches",
      "action": "aws:runCommand",
      "inputs": {
        "DocumentName": "InstallPlatformPatches-22-1-Windows"
      }
    }
  ]
}


description: |-
  *Replace this default text with instructions or other information about your document.*  

  ---
  # What is Markdown?
  Markdown is a lightweight markup language that converts your content with plain text formatting to structurally valid rich text.
  ## You can add headings
  You can add *italics* or make the font **bold**.  
  1. Create numbered lists 
  * Add bullet points 
  >Indent `code samples` 

  You can create a [link to another webpage](${ AWS_ENDPOINT }).
schemaVersion: '0.3'
parameters:
  GGMInstalled:
    default: false
    type: Boolean
  UAMInstalled:
    default: false
    type: Boolean
  GAVInstalled:
    default: false
    type: Boolean
mainSteps:
- name: PatchInstall
  action: aws:branch
  inputs:
    Choices:
    - NextStep: InstallGGMPatches
      Variable: "{{GGMInstalled}}"
      BooleanEquals: true
    - NextStep: InstallUAMPatches
      Variable: "{{UAMInstalled}}"
      BooleanEquals: true
    - NextStep: InstallGAVPatches
      Variable: "{{GAVInstalled}}"
      BooleanEquals: true
    Default:
      InstallPlatformPatches
- name: InstallGGMPatches
  action: aws:executeAutomation
  inputs:
    DocumentName: InstallGGMPatches-22-1-Windows
    InstanceIds:
    - "{{GetInstance.myInstance}}"
    Parameters:
      commands:
      - ls
  isEnd: true
- name: InstallUAMPatches
  action: aws:executeAutomation
  inputs:
    DocumentName: InstallUAMPatches-22-1-Windows
    InstanceIds:
    - "{{GetInstance.myInstance}}"
    Parameters:
      commands:
      - ls
  isEnd: true
- name: InstallGAVPatches
  action: aws:executeAutomation
  inputs:
    DocumentName: InstallGAVPatches-22-1-Windows
    InstanceIds:
    - "{{GetInstance.myInstance}}"
    Parameters:
      commands:
      - ls
  isEnd: true
- name: InstallPlatformPatches
  action: aws:executeAutomation
  inputs:
    DocumentName: InstallPlatformPatches-22-1-Windows
    InstanceIds:
    - "{{GetInstance.myInstance}}"
    Parameters:
      commands:
      - ls
  isEnd: true
